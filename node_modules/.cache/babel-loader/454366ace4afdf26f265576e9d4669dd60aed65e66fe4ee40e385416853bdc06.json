{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Charl\\\\OneDrive\\\\Bureau\\\\CDesport\\\\src\\\\components\\\\AuthForm.jsx\",\n  _s = $RefreshSig$();\n// src/components/AuthForm.jsx\nimport React, { useState } from 'react';\nimport { register, login } from '../services/auth';\nimport API from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthForm = () => {\n  _s();\n  const [form, setForm] = useState({\n    pseudo: '',\n    email: '',\n    password: ''\n  });\n  const [mode, setMode] = useState('login');\n  const [message, setMessage] = useState('');\n  const [profil, setProfil] = useState(null);\n  const handleChange = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n  const toggleMode = () => {\n    setMode(mode === 'login' ? 'register' : 'login');\n    setMessage('');\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      if (mode === 'register') {\n        const res = await register(form);\n        setMessage('‚úÖ Compte cr√©√© : ' + res.message);\n      } else {\n        const res = await login(form);\n        setMessage('‚úÖ Connect√© en tant que ' + res.pseudo);\n        const me = await API.get('/users/me');\n        setProfil(me.data);\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setMessage('‚ùå ' + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || err.message));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 400,\n      margin: 'auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: mode === 'login' ? 'Connexion' : 'Inscription'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [mode === 'register' && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"pseudo\",\n        placeholder: \"Pseudo\",\n        value: form.pseudo,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"Email\",\n        value: form.email,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Mot de passe\",\n        value: form.password,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: mode === 'login' ? 'Se connecter' : 'S‚Äôinscrire'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleMode,\n      children: mode === 'login' ? 'Cr√©er un compte' : 'J‚Äôai d√©j√† un compte'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), profil && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\uD83D\\uDC64 Profil\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Pseudo : \", profil.pseudo]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Email : \", profil.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthForm, \"OWJzVPIBDzud2nW9Jy8D3+L8sy4=\");\n_c = AuthForm;\nexport default AuthForm;\nvar _c;\n$RefreshReg$(_c, \"AuthForm\");","map":{"version":3,"names":["React","useState","register","login","API","jsxDEV","_jsxDEV","AuthForm","_s","form","setForm","pseudo","email","password","mode","setMode","message","setMessage","profil","setProfil","handleChange","e","target","name","value","toggleMode","handleSubmit","preventDefault","res","me","get","data","err","_err$response","_err$response$data","response","error","style","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","required","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Charl/OneDrive/Bureau/CDesport/src/components/AuthForm.jsx"],"sourcesContent":["// src/components/AuthForm.jsx\r\nimport React, { useState } from 'react';\r\nimport { register, login } from '../services/auth';\r\nimport API from '../services/api';\r\n\r\nconst AuthForm = () => {\r\n  const [form, setForm] = useState({ pseudo: '', email: '', password: '' });\r\n  const [mode, setMode] = useState('login');\r\n  const [message, setMessage] = useState('');\r\n  const [profil, setProfil] = useState(null);\r\n\r\n  const handleChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const toggleMode = () => {\r\n    setMode(mode === 'login' ? 'register' : 'login');\r\n    setMessage('');\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      if (mode === 'register') {\r\n        const res = await register(form);\r\n        setMessage('‚úÖ Compte cr√©√© : ' + res.message);\r\n      } else {\r\n        const res = await login(form);\r\n        setMessage('‚úÖ Connect√© en tant que ' + res.pseudo);\r\n        const me = await API.get('/users/me');\r\n        setProfil(me.data);\r\n      }\r\n    } catch (err) {\r\n      setMessage('‚ùå ' + (err.response?.data?.error || err.message));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 400, margin: 'auto' }}>\r\n      <h2>{mode === 'login' ? 'Connexion' : 'Inscription'}</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        {mode === 'register' && (\r\n          <input\r\n            type=\"text\"\r\n            name=\"pseudo\"\r\n            placeholder=\"Pseudo\"\r\n            value={form.pseudo}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        )}\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          value={form.email}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Mot de passe\"\r\n          value={form.password}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <button type=\"submit\">\r\n          {mode === 'login' ? 'Se connecter' : 'S‚Äôinscrire'}\r\n        </button>\r\n      </form>\r\n      <button onClick={toggleMode}>\r\n        {mode === 'login' ? 'Cr√©er un compte' : 'J‚Äôai d√©j√† un compte'}\r\n      </button>\r\n      <p>{message}</p>\r\n      {profil && (\r\n        <div>\r\n          <h4>üë§ Profil</h4>\r\n          <p>Pseudo : {profil.pseudo}</p>\r\n          <p>Email : {profil.email}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}